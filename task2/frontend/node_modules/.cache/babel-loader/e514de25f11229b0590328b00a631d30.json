{"ast":null,"code":"import _classCallCheck from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/tasks/task2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/tasks/task2/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar _jsxFileName = \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/tasks/task2/frontend/src/containers/Validation.js\";\nimport validator from 'validator';\nimport React from 'react';\nvar style = {\n  error: {\n    'color': 'red',\n    'display': 'blocked'\n  }\n};\nexport var Validation =\n/*#__PURE__*/\nfunction () {\n  function Validation(values, rules) {\n    var _this = this;\n\n    _classCallCheck(this, Validation);\n\n    this.errors = {};\n    var Keys = Object.keys(values);\n    Keys.forEach(function (key) {\n      var value = values[key];\n      var rule = rules[key];\n\n      var error = _this.doValidation(value, rule);\n\n      if (error.length > 0) _this.errors[key] = error;\n    });\n  }\n\n  _createClass(Validation, [{\n    key: \"doValidation\",\n    value: function doValidation(value, rules) {\n      var message = '';\n      rules.forEach(function (rule) {\n        switch (rule) {\n          case 'required':\n            if (validator.isEmpty(value)) message = 'input required';\n            break;\n\n          case 'number':\n            if (!validator.isNumeric(value)) message = 'input required';\n            break;\n\n          case 'email':\n            if (!validator.isEmail(value)) message = 'input must be email';\n            break;\n\n          case 'password':\n            if (!validator.isLength(value, {\n              min: 6,\n              max: 191\n            })) message = 'Password must min 6';\n            break;\n\n          default:\n            message = '';\n        }\n      });\n      return message;\n    }\n  }, {\n    key: \"success\",\n    value: function success() {\n      if (Object.keys(this.errors).length > 0) return false;\n      return true;\n    }\n  }, {\n    key: \"message\",\n    value: function message(key) {\n      return this.errors[key] !== undefined ? React.createElement(\"span\", {\n        style: style.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, this.errors[key]) : '';\n    }\n  }, {\n    key: \"displayError\",\n    value: function displayError(value) {\n      return value ? React.createElement(\"span\", {\n        style: style.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, value) : '';\n    }\n  }]);\n\n  return Validation;\n}();\nexport default Validation;","map":{"version":3,"sources":["/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/tasks/task2/frontend/src/containers/Validation.js"],"names":["validator","React","style","error","Validation","values","rules","errors","Keys","Object","keys","forEach","key","value","rule","doValidation","length","message","isEmpty","isNumeric","isEmail","isLength","min","max","undefined"],"mappings":";;;AAAA,OAAOA,SAAP,MAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAE;AACH,aAAS,KADN;AAEH,eAAW;AAFR;AADG,CAAd;AAMA,WAAaC,UAAb;AAAA;AAAA;AAEI,sBAAYC,MAAZ,EAAoBC,KAApB,EAA2B;AAAA;;AAAA;;AAAA,SAD3BC,MAC2B,GADlB,EACkB;AACvB,QAAMC,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYL,MAAZ,CAAb;AACAG,IAAAA,IAAI,CAACG,OAAL,CAAa,UAAAC,GAAG,EAAI;AAChB,UAAIC,KAAK,GAAGR,MAAM,CAACO,GAAD,CAAlB;AACA,UAAIE,IAAI,GAAGR,KAAK,CAACM,GAAD,CAAhB;;AACA,UAAIT,KAAK,GAAG,KAAI,CAACY,YAAL,CAAkBF,KAAlB,EAAyBC,IAAzB,CAAZ;;AACA,UAAIX,KAAK,CAACa,MAAN,GAAe,CAAnB,EACI,KAAI,CAACT,MAAL,CAAYK,GAAZ,IAAmBT,KAAnB;AACP,KAND;AAOH;;AAXL;AAAA;AAAA,iCAYiBU,KAZjB,EAYwBP,KAZxB,EAY+B;AACvB,UAAIW,OAAO,GAAG,EAAd;AACAX,MAAAA,KAAK,CAACK,OAAN,CAAc,UAAAG,IAAI,EAAI;AAClB,gBAAQA,IAAR;AACI,eAAK,UAAL;AAAiB,gBAAId,SAAS,CAACkB,OAAV,CAAkBL,KAAlB,CAAJ,EAA8BI,OAAO,GAAG,gBAAV;AAA4B;;AAC3E,eAAK,QAAL;AAAe,gBAAI,CAACjB,SAAS,CAACmB,SAAV,CAAoBN,KAApB,CAAL,EAAiCI,OAAO,GAAG,gBAAV;AAA4B;;AAC5E,eAAK,OAAL;AAAc,gBAAI,CAACjB,SAAS,CAACoB,OAAV,CAAkBP,KAAlB,CAAL,EAA+BI,OAAO,GAAG,qBAAV;AAAiC;;AAC9E,eAAK,UAAL;AAAiB,gBAAI,CAACjB,SAAS,CAACqB,QAAV,CAAmBR,KAAnB,EAA0B;AAAES,cAAAA,GAAG,EAAE,CAAP;AAAUC,cAAAA,GAAG,EAAE;AAAf,aAA1B,CAAL,EAAsDN,OAAO,GAAG,qBAAV;AAAiC;;AACxG;AAAUA,YAAAA,OAAO,GAAC,EAAR;AALd;AAOH,OARD;AASA,aAAOA,OAAP;AACH;AAxBL;AAAA;AAAA,8BAyBc;AACN,UAAIR,MAAM,CAACC,IAAP,CAAY,KAAKH,MAAjB,EAAyBS,MAAzB,GAAgC,CAApC,EACI,OAAO,KAAP;AACJ,aAAO,IAAP;AACH;AA7BL;AAAA;AAAA,4BA8BYJ,GA9BZ,EA8BgB;AACR,aAAO,KAAKL,MAAL,CAAYK,GAAZ,MAAqBY,SAArB,GAAiC;AAAM,QAAA,KAAK,EAAEtB,KAAK,CAACC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2B,KAAKI,MAAL,CAAYK,GAAZ,CAA3B,CAAjC,GAAsF,EAA7F;AAEH;AAjCL;AAAA;AAAA,iCAkCiBC,KAlCjB,EAkCuB;AACf,aAAOA,KAAK,GAAC;AAAM,QAAA,KAAK,EAAEX,KAAK,CAACC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BU,KAA3B,CAAD,GAA0C,EAAtD;AACH;AApCL;;AAAA;AAAA;AAyCA,eAAeT,UAAf","sourcesContent":["import validator from 'validator';\nimport React from 'react'\nconst style = {\n    error: {\n        'color': 'red',\n        'display': 'blocked',\n    }\n}\nexport class Validation {\n    errors = {};\n    constructor(values, rules) {\n        const Keys = Object.keys(values);\n        Keys.forEach(key => {\n            let value = values[key];\n            let rule = rules[key];\n            let error = this.doValidation(value, rule);\n            if (error.length > 0)\n                this.errors[key] = error;\n        })\n    }\n    doValidation(value, rules) {\n        let message = '';\n        rules.forEach(rule => {\n            switch (rule) {\n                case 'required': if (validator.isEmpty(value)) message = 'input required'; break;\n                case 'number': if (!validator.isNumeric(value)) message = 'input required'; break;\n                case 'email': if (!validator.isEmail(value)) message = 'input must be email'; break;\n                case 'password': if (!validator.isLength(value, { min: 6, max: 191 })) message = 'Password must min 6'; break;\n                default : message='';\n            }\n        })\n        return message;\n    }\n    success() {\n        if (Object.keys(this.errors).length>0)\n            return false\n        return true;\n    }\n    message(key){\n        return this.errors[key] !== undefined?  <span style={style.error}>{this.errors[key]}</span> :''\n                          \n    }\n    displayError(value){\n        return value?<span style={style.error}>{value}</span>:''\n    }\n}\n\n\n\nexport default Validation\n"]},"metadata":{},"sourceType":"module"}