{"ast":null,"code":"import _classCallCheck from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/src/middleware/AuthMiddleware.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\n\nvar AuthMiddleware =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AuthMiddleware, _Component);\n\n  function AuthMiddleware(props) {\n    _classCallCheck(this, AuthMiddleware);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AuthMiddleware).call(this, props));\n  }\n\n  _createClass(AuthMiddleware, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      try {\n        console.log('in middleware');\n        var result = axios.post(process.env.REACT_APP_ADMIN_URL + '/checktoken');\n        console.log(result);\n      } catch (error) {\n        console.log('catch');\n        return React.createElement(Redirect, {\n          to: \"/admin/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('render');\n      return this.props.children;\n    }\n  }]);\n\n  return AuthMiddleware;\n}(Component);\n\nexport { AuthMiddleware as default };","map":{"version":3,"sources":["/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/src/middleware/AuthMiddleware.js"],"names":["React","Component","Redirect","axios","AuthMiddleware","props","console","log","result","post","process","env","REACT_APP_ADMIN_URL","error","children"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEqBC,c;;;;;AACjB,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,uFACTA,KADS;AAElB;;;;wCACoB;AACjB,UAAI;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,YAAIC,MAAM,GAAIL,KAAK,CAACM,IAAN,CAAWC,OAAO,CAACC,GAAR,CAAYC,mBAAZ,GAAkC,aAA7C,CAAd;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ;AACH,OAJD,CAKA,OAAOK,KAAP,EAAc;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;AACJ;;;6BACQ;AACLD,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,aAAO,KAAKF,KAAL,CAAWS,QAAlB;AACH;;;;EAlBuCb,S;;SAAvBG,c","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios'\n\nexport default class AuthMiddleware extends Component {\n    constructor(props) {\n        super(props)\n    }\n     componentDidMount() {\n        try {\n            console.log('in middleware')\n            var result =  axios.post(process.env.REACT_APP_ADMIN_URL + '/checktoken')        \n            console.log(result)\n        }\n        catch (error) {\n            console.log('catch')\n            return <Redirect to=\"/admin/login\" />;\n        }\n    }\n    render() {\n        console.log('render')\n        return this.props.children\n    }\n}\n"]},"metadata":{},"sourceType":"module"}