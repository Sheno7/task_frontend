{"ast":null,"code":"import _classCallCheck from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar _jsxFileName = \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/src/containers/Validation.js\";\nimport validator from 'validator';\nimport { object } from 'prop-types';\nvar style = {\n  error: {\n    'color': 'red',\n    'display': 'blocked'\n  }\n};\nexport var Validation =\n/*#__PURE__*/\nfunction () {\n  function Validation(values, rules) {\n    var _this = this;\n\n    _classCallCheck(this, Validation);\n\n    this.errors = [];\n    var Keys = Object.keys(values);\n    Keys.map(function (key) {\n      var value = values[key];\n      var rule = rules[key];\n\n      var error = _this.doValidation(value, rule);\n\n      if (error.length > 0) _this.errors[key] = error;\n    });\n  }\n\n  _createClass(Validation, [{\n    key: \"doValidation\",\n    value: function doValidation(value, rules) {\n      message = '';\n      rules.map(function (rule) {\n        switch (rule) {\n          case 'required':\n            if (validator.isEmpty(value)) message = 'input required';\n            break;\n\n          case 'email':\n            if (!validator.isEmail(value)) message = 'input must be email';\n            break;\n\n          case 'password':\n            if (!validator.isLength(value, {\n              min: 6,\n              max: 8\n            })) message = 'Password must min 6, max 8';\n            break;\n        }\n      });\n      return message;\n    }\n  }, {\n    key: \"success\",\n    value: function success() {\n      if (this.errors.length) return false;\n      return true;\n    }\n  }, {\n    key: \"message\",\n    value: function message(key) {\n      if (this.errors[key] !== undefined) return React.createElement(\"span\", {\n        className: style.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, this.errors[key]);\n    }\n  }]);\n\n  return Validation;\n}();\nexport default Validation;","map":{"version":3,"sources":["/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/src/containers/Validation.js"],"names":["validator","object","style","error","Validation","values","rules","errors","Keys","Object","keys","map","key","value","rule","doValidation","length","message","isEmpty","isEmail","isLength","min","max","undefined"],"mappings":";;;AAAA,OAAOA,SAAP,MAAsB,WAAtB;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAE;AACH,aAAS,KADN;AAEH,eAAW;AAFR;AADG,CAAd;AAMA,WAAaC,UAAb;AAAA;AAAA;AAEI,sBAAYC,MAAZ,EAAoBC,KAApB,EAA2B;AAAA;;AAAA;;AAAA,SAD3BC,MAC2B,GADlB,EACkB;AACvB,QAAMC,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYL,MAAZ,CAAb;AACAG,IAAAA,IAAI,CAACG,GAAL,CAAS,UAAAC,GAAG,EAAI;AACZ,UAAIC,KAAK,GAAGR,MAAM,CAACO,GAAD,CAAlB;AACA,UAAIE,IAAI,GAAGR,KAAK,CAACM,GAAD,CAAhB;;AACA,UAAIT,KAAK,GAAG,KAAI,CAACY,YAAL,CAAkBF,KAAlB,EAAyBC,IAAzB,CAAZ;;AACA,UAAIX,KAAK,CAACa,MAAN,GAAe,CAAnB,EACI,KAAI,CAACT,MAAL,CAAYK,GAAZ,IAAmBT,KAAnB;AACP,KAND;AAOH;;AAXL;AAAA;AAAA,iCAYiBU,KAZjB,EAYwBP,KAZxB,EAY+B;AACvBW,MAAAA,OAAO,GAAG,EAAV;AACAX,MAAAA,KAAK,CAACK,GAAN,CAAU,UAAAG,IAAI,EAAI;AACd,gBAAQA,IAAR;AACI,eAAK,UAAL;AAAiB,gBAAId,SAAS,CAACkB,OAAV,CAAkBL,KAAlB,CAAJ,EAA8BI,OAAO,GAAG,gBAAV;AAA4B;;AAC3E,eAAK,OAAL;AAAc,gBAAI,CAACjB,SAAS,CAACmB,OAAV,CAAkBN,KAAlB,CAAL,EAA+BI,OAAO,GAAG,qBAAV;AAAiC;;AAC9E,eAAK,UAAL;AAAiB,gBAAI,CAACjB,SAAS,CAACoB,QAAV,CAAmBP,KAAnB,EAA0B;AAAEQ,cAAAA,GAAG,EAAE,CAAP;AAAUC,cAAAA,GAAG,EAAE;AAAf,aAA1B,CAAL,EAAoDL,OAAO,GAAG,4BAAV;AAAwC;AAHjH;AAKH,OAND;AAOA,aAAOA,OAAP;AACH;AAtBL;AAAA;AAAA,8BAuBc;AACN,UAAI,KAAKV,MAAL,CAAYS,MAAhB,EACI,OAAO,KAAP;AACJ,aAAO,IAAP;AACH;AA3BL;AAAA;AAAA,4BA4BYJ,GA5BZ,EA4BgB;AACR,UAAG,KAAKL,MAAL,CAAYK,GAAZ,MAAqBW,SAAxB,EACA,OAAO;AAAM,QAAA,SAAS,EAAErB,KAAK,CAACC,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+B,KAAKI,MAAL,CAAYK,GAAZ,CAA/B,CAAP;AACH;AA/BL;;AAAA;AAAA;AAkCA,eAAeR,UAAf","sourcesContent":["import validator from 'validator';\nimport { object } from 'prop-types';\nconst style = {\n    error: {\n        'color': 'red',\n        'display': 'blocked',\n    }\n}\nexport class Validation {\n    errors = [];\n    constructor(values, rules) {\n        const Keys = Object.keys(values);\n        Keys.map(key => {\n            let value = values[key];\n            let rule = rules[key];\n            let error = this.doValidation(value, rule);\n            if (error.length > 0)\n                this.errors[key] = error;\n        })\n    }\n    doValidation(value, rules) {\n        message = '';\n        rules.map(rule => {\n            switch (rule) {\n                case 'required': if (validator.isEmpty(value)) message = 'input required'; break;\n                case 'email': if (!validator.isEmail(value)) message = 'input must be email'; break;\n                case 'password': if (!validator.isLength(value, { min: 6, max: 8 })) message = 'Password must min 6, max 8'; break;\n            }\n        })\n        return message;\n    }\n    success() {\n        if (this.errors.length)\n            return false\n        return true;\n    }\n    message(key){\n        if(this.errors[key] !== undefined)\n        return <span className={style.error}>{this.errors[key]}</span>\n    }\n}\n\nexport default Validation\n"]},"metadata":{},"sourceType":"module"}