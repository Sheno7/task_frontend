{"ast":null,"code":"import _regeneratorRuntime from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _slicedToArray from \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/src/views/backend/admin/Index.js\";\nimport React, { Component, useState } from 'react';\nimport axios from 'axios';\nimport { Card, CardBody, Modal, ListGroupItem, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table, Button } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\nfunction ModalExample(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleShow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, \"Launch demo modal\"), React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    animation: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Modal heading\")), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"Woohoo, you're reading this text in a modal!\"), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Close\"), React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Save Changes\"))));\n}\n\nvar AdminIndex =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AdminIndex, _Component);\n\n  function AdminIndex(props) {\n    var _this;\n\n    _classCallCheck(this, AdminIndex);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdminIndex).call(this, props));\n\n    _this.deleteItem =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(admin) {\n        var result, admins;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.delete(process.env.REACT_APP_ADMIN_URL + '/manager/delete/' + admin._id, {\n                  headers: {\n                    'Authorization': 'Bearer ' + _this.props.token\n                  }\n                });\n\n              case 2:\n                result = _context.sent;\n\n                if (result.data.status === 'success') {\n                  admins = _this.state.admins.filter(function (row) {\n                    return row._id != admin._id;\n                  });\n\n                  _this.setState({\n                    admins: admins,\n                    success: 'item has been deleted'\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      admins: [],\n      success: ''\n    };\n    return _this;\n  }\n\n  _createClass(AdminIndex, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var users;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(process.env.REACT_APP_ADMIN_URL + '/managers', {\n                  headers: {\n                    'Authorization': 'Bearer ' + this.props.token\n                  }\n                });\n\n              case 2:\n                users = _context2.sent;\n\n                if (users) {\n                  this.setState({\n                    admins: users.data.data\n                  });\n                }\n\n                if (this.props.location.success) {\n                  this.setState({\n                    success: this.props.location.success\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(ModalExample, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AdminIndex;\n}(Component);\n\nexport default AdminIndex;","map":{"version":3,"sources":["/media/shenouda/81422b19-5e63-467f-9a2d-c5ca5ac074ba/work/learning/istrahti/frontend/src/views/backend/admin/Index.js"],"names":["React","Component","useState","axios","Card","CardBody","Modal","ListGroupItem","CardHeader","Col","Pagination","PaginationItem","PaginationLink","Row","Table","Button","Link","ModalExample","props","show","setShow","handleClose","handleShow","AdminIndex","deleteItem","admin","delete","process","env","REACT_APP_ADMIN_URL","_id","headers","token","result","data","status","admins","state","filter","row","setState","success","get","users","location"],"mappings":"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","sourcesContent":["import React, { Component,useState } from 'react';\nimport axios from 'axios';\nimport { Card, CardBody,Modal, ListGroupItem, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table, Button } from 'reactstrap';\nimport { Link } from 'react-router-dom';\n\n function ModalExample(props) {\n    const [show, setShow] = useState(false);\n  \n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n  \n    return (\n      <>\n        <Button variant=\"primary\" onClick={handleShow}>\n          Launch demo modal\n        </Button>\n  \n        <Modal show={show} onHide={handleClose} animation={false}>\n          <Modal.Header closeButton>\n            <Modal.Title>Modal heading</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>Woohoo, you're reading this text in a modal!</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleClose}>\n              Close\n            </Button>\n            <Button variant=\"primary\" onClick={handleClose}>\n              Save Changes\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n  \nclass AdminIndex extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            admins: [],\n            success: ''\n        }\n\n    }\n    async componentDidMount() {\n        const users = await axios.get(process.env.REACT_APP_ADMIN_URL + '/managers', { headers: { 'Authorization': 'Bearer ' + this.props.token } });\n        if (users) {\n            this.setState({\n                admins: users.data.data\n            })\n        }\n        if (this.props.location.success) {\n                this.setState({\n                    success:this.props.location.success\n                })\n        }\n    }\n    deleteItem = async (admin) => {\n        const result = await axios.delete(process.env.REACT_APP_ADMIN_URL + '/manager/delete/' + admin._id, { headers: { 'Authorization': 'Bearer ' + this.props.token } });\n        if (result.data.status === 'success') {\n            var admins = this.state.admins.filter((row) => {\n                return row._id != admin._id\n            })\n            this.setState({\n                admins: admins,\n                success:'item has been deleted'\n            })\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"animated fadeIn\">\n   <ModalExample />\n            </div>\n\n        );\n    }\n}\n\nexport default AdminIndex;\n"]},"metadata":{},"sourceType":"module"}